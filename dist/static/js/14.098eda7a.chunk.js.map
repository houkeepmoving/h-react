{"version":3,"sources":["pages/service-detail/service-detail.scss","pages/service-detail/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","tool/common.js","tool/getUserId.js"],"names":["module","exports","ServiceDetail","inject","observer","props","state","query","Tool","seriesName","decodeURIComponent","specName","serviceDetail","pvShow","userId","getUserIdInfo","Common","initFetch","Api","getRepairOrPackageDetail","comboId","dealerId","specId","then","res","returncode","Promise","reject","setState","result","catch","error","console","log","handleOrderBtn","isValid","isSuitable","handleTrackCustomEvent","objectId","oldDealerId","plateNumber","brandId","seriesId","brandName","encodeURIComponent","travelDistance","selectDate","this","Header","$setTitle","action","trackCustomEvent","className","styles","combinationmeal_detail","service_item","name","title","store_name","price_item","nums","price","classNames","infos_item","car_item","txt","list","length","map","item","index","key","startDate","endDate","footer","onClick","unable","Component","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","isWz","checkViolatApp","dprnVersion","replace","isAutoApp","checkMainApp","pageJumpHandel","path","queryParams","browser","currentHost","window","location","protocol","host","pathname","keys","forEach","linkUrl","includes","OPEN_LINK_URL","checkCarcommentApp","href","setTimeout","trackCustomPageInit","cate","customVars","pvTrack","site","site_id","category","category_id","subcategory","sub_category_id","pageVars","_yc_ahas","push","pageId","refpage","channel","cityId","handleLogin","params","backUrl","successCb","failCb","appCallBack","appParams","code","require","jsBridge","openLogin","success","toString","JSON","stringify","fail","showVideoPlayer","bodyCls","scrollTop","that","jsBridgeV2","openNativePageAsyncResult","url","videos","videoId","requestCode","requestcode","Toast","$toast","paramStr","showGallery","originImages","autoAppOriginImages","i","len","tmpObj","bigimg","openMap","dealerParams","latitude","longitude","address","refpageName","lgData","mapUrl","parseInt","parse","issupportmap","RN_MAP_VIEW_URL","destLng","destLat","destAddres","choseCar","param","selectAutoHomeCar","json","extras","type","addCar","checkAutoHomeApp","data","ios","err","getRemarkHostUrl","slice","getUserId"],"mappings":"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","file":"static/js/14.098eda7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fn-left\":\"fn-left__751437fa\",\"fn-right\":\"fn-right__bb2695a1\",\"wrap\":\"wrap__7595a84d\",\"fn-block\":\"fn-block__2fd7806d\",\"fn-hide\":\"fn-hide__b0b06df8\",\"fl\":\"fl__b84d91c1\",\"fr\":\"fr__f980deaa\",\"bg\":\"bg__b52e73ac\",\"infos_item\":\"infos_item__7172fc4a\",\"combinationmeal_detail\":\"combinationmeal_detail__6be0379f\",\"service_item\":\"service_item__d9987943\",\"name\":\"name__0c2c2e6b\",\"store_name\":\"store_name__00ec7626\",\"price_item\":\"price_item__f292d86e\",\"nums\":\"nums__42065c71\",\"car_item\":\"car_item__5e795274\",\"txt\":\"txt__c96386fa\",\"price\":\"price__fa729aee\",\"footer\":\"footer__cbbb5cad\",\"unable\":\"unable__7a9727b2\"};","import React, { Component } from 'react';\n\nimport Api from 'api';\nimport classNames from 'classnames';\nimport * as Tool from 'tool';\nimport * as Common from 'tool/common';\nimport * as getUserIdInfo from 'tool/getUserId';\nimport { inject, observer } from 'mobx-react';\n\nimport styles from \"./service-detail.scss\";\n\n\n@inject('Toast', 'ComNoContent', 'Header')\n@observer\nexport default class ServiceDetail extends Component {\n\n  constructor (props){\n    super(props);\n  }\n\n  state = {\n    query: Tool.getUrlParamQuery(),\n    seriesName: decodeURIComponent(decodeURIComponent(Tool.getUrlParamQuery().seriesName)),\n    specName: decodeURIComponent(decodeURIComponent(Tool.getUrlParamQuery().specName)),\n    serviceDetail: {}\n  }\n\n  componentDidMount() {\n    this.props.Header.$setTitle('保养服务套餐');\n    Tool.setTitle('保养服务套餐');\n    this.pvShow();\n    this.initFetch();\n  }\n\n  // pv统计\n  pvShow = () => {\n    let { userId } = getUserIdInfo.getUserId();\n    Common.trackCustomPageInit({\n      'pageId': 'tmfy_by_maintain_detail_pv',\n      'site_id': 1211120,\n      'category_id': 1595,\n      'sub_category_id': 18471\n    }, {\n      'userId': userId\n    });\n  }\n\n  initFetch = () => {\n    const { query } = this.state;\n    // http://test.yczj.api.autohome.com.cn/v2/api/transparent/maintain/detail?dealerId=126629&comboId=12249&specId=4442\n    Api.getRepairOrPackageDetail({\n      comboId: query.comboId || 12249,\n      dealerId: query.dealerId || 49331,\n      specId: query.specId || 4442\n    }).then(res => {\n      if (res.returncode === 0) {\n        this.setState({\n          serviceDetail: res.result\n        });\n      } else {\n        return Promise.reject(res);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  // 点击预约\n  handleOrderBtn = () => {\n    let { serviceDetail, query } = this.state;\n    if (serviceDetail.isValid === 0 || serviceDetail.isSuitable === 0) {\n      return;\n    }\n    this.handleTrackCustomEvent('tmfy_by_maintain_detail_book_click', {\n      objectId: query.dealerId\n    });\n    Common.pageJumpHandel('srviceReserve', {\n      comboId: query.comboId,\n      dealerId: query.dealerId,\n      oldDealerId: query.oldDealerId || '', // 经销商商家id\n      plateNumber: query.plateNumber || '', // 车牌号\n      brandId: query.brandId || '', // 品牌id\n      seriesId: query.seriesId || '', // 车系id\n      specId: query.specId || '', // 车型id\n      brandName: encodeURIComponent(encodeURIComponent(query.brandName)), // 品牌名称\n      seriesName: encodeURIComponent(encodeURIComponent(query.seriesName)), // 车系名称\n      specName: encodeURIComponent(encodeURIComponent( query.specName)), // 车型名称\n      travelDistance: query.travelDistance || '', // 里程值（数值\n      selectDate: query.selectDate || '' // 预约日期\n    });\n  }\n\n  // 点击统计事件\n  handleTrackCustomEvent(action, { objectId = '' } = {}) {\n    let { userId } = getUserIdInfo.getUserId();\n    // eslint-disable-next-line\n    trackCustomEvent('yc_page_common_click', {\n      'bus': '1',\n      'refpage': Tool.getCookie('refpage') || '',\n      'channel': Tool.getCookie('channel'),\n      'city': Tool.getCookie('cityId') || 110100,\n      'action': action\n    }, {\n      'userId': userId,\n      'objectId': objectId\n    });\n  }\n\n  render() {\n    const { serviceDetail, seriesName, specName } = this.state;\n    return (\n      <div className={styles.combinationmeal_detail}>\n        <div className={styles.service_item}>\n          <p className={styles.name}>\n            {\n              serviceDetail.title\n            }\n          </p>\n          <p className={styles.store_name}>\n            {\n              serviceDetail.name\n            }\n          </p>\n          {\n            'price' in serviceDetail && (\n              <div className={styles.price_item}>\n                促销价\n                <span className={styles.nums}>￥{serviceDetail.price}</span>\n              </div>\n            )\n          }\n        </div>\n        {/* 爱车模块 */}\n        <div className={classNames(styles.infos_item, styles.car_item)}>\n          <p className={styles.name}>\n            {\n              serviceDetail.isSuitable === 1 ? '该套餐适用于您的爱车' : '该套餐不适用于您的爱车'\n            }\n          </p>\n          <p className={styles.txt}>\n          { seriesName } { specName }\n          </p>\n        </div>\n        {/* /end 爱车模块 */}\n        {\n          serviceDetail.list && serviceDetail.list.length > 0 && (\n            <div className={classNames(styles.infos_item)}>\n              <p className={styles.name}>\n                保养项目\n              </p>\n              {\n                serviceDetail.list.map((item, index) => (\n                  <p className={styles.txt} key={index}>\n                    {\n                      item.name\n                    }\n                    {\n                      item.price > 0 && (\n                        <span className={styles.price}>原价<em>￥{item.price}</em></span>\n                      )\n                    }\n                  </p>\n                ))\n              }\n            </div>\n          ) \n        }\n        <div className={classNames(styles.infos_item)}>\n          <p className={styles.name}>\n            使用期限\n          </p>\n          <p className={styles.txt}>\n            1. 此套餐为限时购买商品，请在有效期内使用\n          </p>\n          <p className={styles.txt}>\n            2. 有效期：{serviceDetail.startDate}至{serviceDetail.endDate}\n          </p>\n        </div>\n        <div className={classNames(styles.infos_item)}>\n          <p className={styles.name}>\n            免责声明\n          </p>\n          <p className={styles.txt}>\n            汽车之家为第三方平台及互联网信息服务提供者，以上保养套餐所展示的商品/服务的标题、价格、详情等信息内容系由商家发布，其真实性、准确性和合法性均由商家负责。汽车之家提醒用户购买商品/服务前注意谨慎核实。\n          </p>\n          <p className={styles.txt}>\n          如用户对商品/服务的标题、价格、详情等任何信息有任何疑问，请在购买前通过在线咨询或者拨打电话与商家沟通确认。如用户发现有任何违法信息，请立即向汽车之家举报并提供有效线索。\n          </p>\n        </div>\n        {/* 免约按钮 */}\n        <footer className={styles.footer} onClick={this.handleOrderBtn}>\n          <a className={classNames({[styles.unable]: serviceDetail.isValid === 0 || serviceDetail.isSuitable === 0})}>\n            立即免费预约\n          </a>\n        </footer>\n        {/* /end 免约按钮 */}\n      </div>\n    );\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import * as Tool from 'tool';\n\nlet isWz = Tool.webApp.checkViolatApp() || Tool.getCookie('iswz');\nlet dprnVersion = (Tool.getCookie('dprnversion') || '').replace(/\\./g, '');\nlet isAutoApp = Tool.webApp.checkMainApp();\n\n// 页面跳转\nexport const pageJumpHandel = (path = '', queryParams = {}, browser = 'wk') => { // path:页面路由地址 queryParams：跳转传递query参数\n  let currentHost = `${window.location.protocol}//${window.location.host}${window.location.pathname}#/`; // 当前域名\n  let query = '';\n  Object.keys(queryParams).forEach((key, index) => {\n    query += `${index ? '&' : ''}${key}=${queryParams[key]}`;\n  });\n  let linkUrl = path.includes('http') ? path : `${currentHost}${path}?${query}`;\n  let OPEN_LINK_URL = encodeURIComponent(linkUrl);\n  if (Tool.webApp.checkMainApp()) { // 端内\n    if (Tool.webApp.checkCarcommentApp()) { // 汽车点评\n      Tool.openNativePage(`autohome://insidebrowser${browser}?url=${OPEN_LINK_URL}`);\n    } else { // 主软环境\n      window.location.href = `autohome://insidebrowser${browser}?url=${OPEN_LINK_URL}`;\n    }\n  } else if (isWz) { // 违章app\n    setTimeout(() => {\n      window.location.href = `wzsdk://wzarticle?url=${OPEN_LINK_URL}`;\n    }, 30);\n  } else { // M\n    window.location.href = linkUrl;\n  }\n  // window.location.href = linkUrl;\n\n};\n\n// pv show 统计\nexport const trackCustomPageInit = (cate = {}, customVars = {}) => {\n  // eslint-disable-next-line\n  pvTrack.site = cate.site_id;\n  // eslint-disable-next-line\n  pvTrack.category = cate.category_id;\n  // eslint-disable-next-line\n  pvTrack.subcategory = cate.sub_category_id;\n  // eslint-disable-next-line\n  pvTrack.pageVars = customVars;\n  // eslint-disable-next-line\n  window._yc_ahas.push(['_trackPageInit']);\n  // eslint-disable-next-line\n  trackCustomEvent('yc_dynamic_page_show', {\n    'bus': '1',\n    'page': cate.pageId ? cate.pageId : cate.site_id + '-' + cate.category_id + '-' + cate.sub_category_id,\n    'refpage': cate.refpage || '',\n    'channel': cate.channel || '0',\n    'city': cate.cityId || 110100\n  }, customVars);\n};\n\n// 操作登录信息\nexport const handleLogin = (params = {}) => {\n  console.log(window.location.href, '登录当前url');\n  let { backUrl, successCb = '', failCb = '' } = params;\n  if (Tool.webApp.checkViolatApp() || Tool.getCookie('iswz')) { // 违章\n    window.location.href = 'wzsdk://login';\n    window.appCallBack = (appParams) => {\n      if (appParams.code === 0) {\n        successCb && successCb(appParams);\n      }\n    };\n  } else if (Tool.webApp.checkMainApp()) { // 点评和主软\n    require('jsBridge');  // eslint-disable-next-line\n    window.jsBridge.openLogin({\n      success: (result) => {\n        if (result.returncode.toString() === '0') {\n          successCb && successCb(result);\n        }\n        console.log(JSON.stringify(result)); // eslint-disable-line\n      },\n      fail: (result) => {\n        failCb && failCb(result);\n        console.log(JSON.stringify(result)); // eslint-disable-line\n      }\n    });\n  } else { // M站\n    window.location.href = `http://account.m.autohome.com.cn/?backurl=${backUrl}`;\n  }\n};\n\nexport const wxProgramLogin = () => {\n   // 获取当前url\n  let locationUrl = encodeURIComponent(window.location.href);\n   // 小程序登录\n   wx.miniProgram.redirectTo({ url: `/pages/login/login?url=${locationUrl}` }); // eslint-disable-line\n};\n\n// 弹窗时候锁定页面\nexport const ModalHelper = (function(bodyCls) {\n  let scrollTop;\n  return {\n    afterOpen: function() {\n      scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      document.body.classList.add(bodyCls);\n      document.body.style.top = -scrollTop + 'px';\n      // 锁定\n      // document.documentElement.style.overflow = 'hidden';\n      // document.body.style.overflow = 'hidden';\n    },\n    beforeClose: function() {\n      document.body.classList.remove(bodyCls);\n      document.body.scrollTop = scrollTop;\n      document.documentElement.scrollTop = scrollTop;\n      document.documentElement.style.overflow = '';\n      document.body.style.overflow = '';\n    }\n  };\n})('modal-open');\n\n// 首页 list && 商家详情 跳转排行榜\nexport const linkToDealerRankList = (that, rankFlag) => {\n  // 判断code码是区域码还是城市码\n  let linkUrl = '';\n  let currentHost = `${window.location.protocol}//${window.location.host}`; // 当前域名\n  if (rankFlag.area % 100 === 0 && rankFlag.area % 1000 !== 0) { // cityCode后两位为0\n    linkUrl = `${currentHost}/remark/dealerranklist?brand=${rankFlag.brand}&areaId=&cityId=${rankFlag.area}&category=${rankFlag.category}&source=${rankFlag.source}`;\n  } else {\n    linkUrl = `${currentHost}/remark/dealerranklist?brand=${rankFlag.brand}&areaId=${rankFlag.area}&cityId=&category=${rankFlag.category}&source=${rankFlag.source}`;\n  }\n  if (that.isAutoApp) {\n    // 主软内\n    const OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      Tool.openNativePage(`autohome://insidebrowser?url=${OPEN_LINK_URL}`);\n    }, 10);\n  } else if (that.isWz) {\n    // 违章内\n    const OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      window.location.href = `wzsdk://wzarticle?url=${OPEN_LINK_URL}`;\n    }, 10);\n  } else {\n    // M站\n    if (rankFlag.area % 100 === 0 && rankFlag.area % 1000 !== 0) { // cityCode后两位为0 省份后三位为0\n      linkUrl = `/remark/dealerranklist?brand=${rankFlag.brand}&areaId=&cityId=${rankFlag.area}&category=${rankFlag.category}&source=${rankFlag.source}`;\n    } else {\n      linkUrl = `/remark/dealerranklist?brand=${rankFlag.brand}&areaId=${rankFlag.area}&cityId=&category=${rankFlag.category}&source=${rankFlag.source}`;\n    }\n    that.$router.push({ path: linkUrl });\n  }\n};\n\n// 视频播放\nexport const showVideoPlayer = (that, params) => {\n  if (Tool.webApp.checkMainApp()) { // 端内用app端的视频播放器\n    if (Tool.webApp.checkCarcommentApp()) { // 点评app\n      let dprnVersion = (Tool.getCookie('dprnversion') || '').replace(/\\./g, '');\n      if (dprnVersion >= 250) { // v2.5.0及以上版本支持播放器\n        require('jsBridge');\n        window.jsBridgeV2.openNativePageAsyncResult({\n          url: `dianpinginside://cfwsmallvideo?videoid=${params.videos[0].videoId}&activityid=&activitytype=&refpage=`,\n          requestCode: 1122,\n          success: (result) => {\n            console.log(JSON.stringify(result));\n            if (result.result.requestcode === 1122) {\n              // TODO\n            }\n          },\n          fail: (result) => {\n            console.log(JSON.stringify(result));\n          }\n        });\n      } else {\n        that.props.Toast.$toast('请升级最新客户端观看活动视频～');\n      }\n    } else { // 主软\n      const paramStr = `id=${params.videos[0].videoId}&topicid=&source=31&bsid=11&bsname=QiCheDianPing&loadmodel=4`;\n      require('jsBridge');\n      window.jsBridgeV2.openNativePageAsyncResult({\n        url: `autohome://article/shortvideolist?${paramStr}`,\n        requestCode: 1133,\n        success: (result) => {\n          console.log(JSON.stringify(result));\n          if (result.result.requestcode === 1133) {\n            // TODO\n          }\n        },\n        fail: (result) => {\n          console.log(JSON.stringify(result));\n        }\n      });\n    }\n  }\n};\n\nexport const videoBack = (that) => {\n  that.videoShow = false;\n  setTimeout(() => {\n    that.$refs.videoPlayComponent.pausedVideo();\n  }, 10);\n};\n\n// 查看大图\nexport const showGallery = (that, index, originImages) => {\n  if (Tool.webApp.checkMainApp()) {\n    let autoAppOriginImages = [];\n    for (let i = 0, len = originImages.length; i < len; i++) {\n      let tmpObj = {\n        'url': originImages[i],\n        'title': ''\n      };\n      autoAppOriginImages.push(tmpObj);\n    }\n    require('jsBridge');\n    window.jsBridgeV2.bigimg({\n      'currentindex': index + 1,\n      'image': autoAppOriginImages,\n      success(result) {\n        console.log(JSON.stringify(result));\n      },\n      fail(result) {\n        console.log(JSON.stringify(result));\n      }\n    });\n  }\n};\n// 商家详情 && 商品详情 跳转点评详情\nexport const handleCommentDetail = (that, data) => {\n  let query = that.$route.query;\n  let refpageName = query.refpageName;\n  let reviewId = data.id;\n  let queryParams = {\n    ...query,\n    refpageName: refpageName,\n    reviewId: reviewId\n  };\n\n  if (query.shareSource) {\n    queryParams.shareSource = query.shareSource;\n  }\n  if (query.typeSource) {\n    queryParams.typeSource = query.typeSource;\n  }\n  pageJumpHandel('/remark/commentdetail', queryParams);\n};\n\n// 商家跳转地图页\nexport const openMap = (dealerParams) => {\n  console.log('开始调用地图页');\n  let { latitude, longitude, address } = dealerParams;\n  let refpageName = Tool.getUrlParam('refpageName');\n\n  if (isWz) {\n    console.log('违章');\n    let lgData = Tool.getCookie('lg_data');\n    let mapUrl = `wzsdk://map?dlat=${latitude}&dlng=${longitude}&daddress=${address}&refpageName=${refpageName}`;\n    if (parseInt(Tool.getCookie('issupportmap')) === 1) {\n      // 违章app版本是否支持唤地图， 1 为支持， 非1为不支持\n      window.location.href = mapUrl;\n    }\n\n    if (lgData && parseInt(JSON.parse(lgData)).issupportmap === 1) {\n      // 临时解决 ios 5.0 版本\n      window.location.href = mapUrl;\n    }\n    // window.location.href = `wzsdk://map?dlat=${latitude}&dlng=${longitude}&daddress=${address}`;\n  } else if (isAutoApp) {\n    // 汽车点评RN环境\n    if (dprnVersion >= 200) {\n      console.log('点评');\n      // RN环境下支持地图导航\n      const RN_MAP_VIEW_URL = `rn://DianPing_Main/MapView?name=${encodeURIComponent(dealerParams.name)}&address=${encodeURIComponent(address)}&lat=${latitude}&lng=${longitude}`;\n\n      Tool.openNativePage(`autohome://rninsidebrowser?url=${encodeURIComponent(RN_MAP_VIEW_URL)}`);\n\n      return false;\n    }\n    console.log('主软');\n    // 主软原生环境\n    let linkUrl = `https://yczj.m.autohome.com.cn/topic/m/baidumap/index.html?destLng=${longitude}&destLat=${latitude}&refpageName=${refpageName}`;\n    let OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      Tool.openNativePage(`autohome://insidebrowser?url=${OPEN_LINK_URL}`);\n    }, 10);\n  } else {\n    console.log('m端');\n    // M\n    Tool.checkIsHasApp({\n      destLng: longitude,\n      destLat: latitude,\n      destAddres: address,\n      refpageName: refpageName\n    });\n  }\n};\n// 将img转成base64\nexport const img2base64 = (params = {}) => {\n  let { imgUrlArr = [], cut = true, canvasWith = 103, canvasHeight = 103, cb = '', failCb = '' } = params;\n  if (!imgUrlArr.length) {\n    return;\n  }\n  let imgUrlArrResult = [];\n  for (let i = 0; i < imgUrlArr.length; i++) {\n    (function(i) {\n      // eslint-disable-next-line\n      let xhr = new XMLHttpRequest();\n      console.log(xhr, 'xhr');\n      let xhrUrl = imgUrlArr[i];\n      if (xhrUrl.indexOf('http://') !== -1) {\n        // 截取\n        xhrUrl = xhrUrl.replace('http://', '//');\n      }\n      xhr.open('get', xhrUrl, true);\n      xhr.responseType = 'blob';\n      xhr.onload = function () {\n        // eslint-disable-next-line\n        let img = new Image();\n        let canvas = document.createElement('canvas');\n        let ctx = canvas.getContext('2d');\n        let ratio = getPixelRatio(ctx);\n        // 注意此处有个坑， canvas 要进行缩放\n        canvas.style.width = canvasWith + 'px';\n        canvas.style.height = canvasHeight + 'px';\n        canvas.width = canvasWith * ratio;\n        canvas.height = canvasHeight * ratio;\n        if (xhr.status === 200 || xhr.status === 0) {\n          // 这里面可以直接通过URL的api将其转换，然后赋值给img.src\n          // eslint-disable-next-line\n          let imgurl = URL.createObjectURL(xhr.response);\n          img.src = imgurl;\n          // 图片加载成功\n          img.onload = () => {\n            if (cut) {\n              // 需要裁剪\n              let imgRect = coverImg(canvasWith, canvasHeight, img.width, img.height);\n              ctx.drawImage(img, imgRect.sx, imgRect.sy, imgRect.sWidth, imgRect.sHeight, 0, 0, canvasWith, canvasHeight);\n            } else {\n              // 原图输出\n              canvas.width = img.width * ratio;\n              canvas.height = img.height * ratio;\n              ctx.drawImage(img, 0, 0);\n            }\n            imgUrlArrResult.push(canvas.toDataURL('image/png', 1));\n            // eslint-disable-next-line\n            URL.revokeObjectURL(imgurl);\n            canvas = null;\n            img = null;\n            cb && cb(imgUrlArrResult);\n          };\n          // 图片加载失败\n          img.onerror = () => {\n            console.log('error358: 图片加载失败');\n            failCb && failCb(imgUrlArr[i]);\n          };\n        } else if (xhr.status === 404) {\n          failCb && failCb(imgUrlArr[i]);\n        }\n      };\n      xhr.send();\n    })(i);\n  }\n};\n\nexport const getPixelRatio = (context) => {\n  let backingStore = context.backingStorePixelRatio ||\n  context.webkitBackingStorePixelRatio ||\n  context.mozBackingStorePixelRatio ||\n  context.msBackingStorePixelRatio ||\n  context.oBackingStorePixelRatio ||\n  context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore;\n};\n\nexport const coverImg = (boxW, boxH, sourceW, sourceH) => {\n  let sx = 0;\n  let sy = 0;\n  let sWidth = sourceW;\n  let sHeight = sourceH;\n  if (sourceW > sourceH || (sourceW === sourceH && boxW < boxH)) {\n    sWidth = boxW * sHeight / boxH;\n    sx = (sourceW - sWidth) / 2;\n  } else if (sourceW < sourceH || (sourceW === sourceH && boxW > boxH)) {\n    sHeight = boxH * sWidth / boxW;\n    sy = (sourceH - sHeight) / 2;\n  }\n  return {\n    sx,\n    sy,\n    sWidth,\n    sHeight\n  };\n};\nexport const containImg = (sx, sy, boxW, boxH, sourceW, sourceH) => {\n  let dx = sx;\n  let dy = sy;\n  let dWidth = boxW;\n  let dHeight = boxH;\n  if (sourceW > sourceH || (sourceW === sourceH && boxW < boxH)) {\n    dHeight = sourceH * dWidth / sourceW;\n    dy = sy + (boxH - dHeight) / 2;\n  } else if (sourceW < sourceH || (sourceW === sourceH && boxW > boxH)) {\n    dWidth = sourceW * dHeight / sourceH;\n    dx = sx + (boxW - dWidth) / 2;\n  }\n  return {\n    dx,\n    dy,\n    dWidth,\n    dHeight\n  };\n};\n\n// 选择车型车系：主软 点评 违章\nexport const choseCar = (param) => {\n  if (Tool.webApp.checkMainApp()) { // 主软和点评\n    // 主软选车\n    // eslint-disable-next-line\n    require('jsBridge');\n    window.jsBridge.selectAutoHomeCar({\n      success: (result) => {\n        // 调用回调吧\n        typeof param.success === 'function' && param.success(result);\n      },\n      fail: (result) => {\n        typeof param.fail === 'function' && param.fail(result);\n      }\n    });\n  } else if (Tool.webApp.checkViolatApp()) {\n    // 违章\n    // choosemodels：选择类型「车系1，车型2」\n    window.location.href = 'wzsdk://cars?choosemodels=2&carsource=newcar';\n\n    window.appCallBack = (json) => {\n      if (json.code === 0) {\n        if (json.extras.type === 14) {\n          typeof param.success === 'function' && param.success(json.extras);\n        } else {\n          typeof param.fail === 'function' && param.fail(json.extras);\n        }\n      }\n    };\n  }\n};\n\n// 添加爱车\nexport const addCar = (params = {}) => {\n  let url = '';\n  let { success = '', fail = '' } = params;\n  if (Tool.webApp.checkAutoHomeApp()) {\n    let linkUrl = encodeURIComponent('rn://CarService_GarageRN/AddOrUpdateCar?fromsource=14&ishideocr=1');\n    url = `autohome://rninsidebrowser?url=${linkUrl}`;\n  } else if (Tool.webApp.checkCarcommentApp()) {\n    url = 'dianpinginside://wzaddcar';\n  } else if (Tool.webApp.checkViolatApp()) {\n    // TODO: 违章渠道没有添加呢\n  }\n\n  require('jsBridge');\n  window.jsBridgeV2.openNativePageAsyncResult({\n    url: url,\n    requestCode: 10000,\n    success: (res) => {\n      console.log('添加爱车成功', JSON.stringify(res));\n      let data = null;\n      if (Tool.checkMobileVersions().ios) { // 苹果\n        data = JSON.parse(res.result);\n      } else {\n        data = res.result.data;\n      }\n      success && success(data);\n    },\n    fail: (err) => {\n      console.log('添加爱车失败', JSON.stringify(err));\n      fail && fail(err);\n    }\n  });\n};\n\n\n/**\n * 获取汽车点评域名\n */\nexport const getRemarkHostUrl = () => {\n  const currentHost = window.location.host;\n  console.log(currentHost);\n  // http://yczj.transparent.yz.test.autohome.com.cn/#/dealerList?type=1  \n  let _URL = '';\n  if (currentHost.slice(20, 24) === 'test') {\n    // 准生产环境\n    _URL = 'http://test.yczj.m.autohome.com.cn';\n  } else if (currentHost.slice(0, 6) === 't.yczj') {\n    // 本地环境\n    // _URL = 'http://test.yczj.m.autohome.com.cn';\n    _URL = 'http://t.yczj.m.autohome.com.cn:3001';\n  } else {\n    // 正式环境\n    _URL = 'https://yczj.m.autohome.com.cn';\n  }\n  return _URL;\n};\n","/**\n * @file 违章 & 主软 & M 登录\n * 获取userid\n */\nimport * as Tool from 'tool';\nexport const getUserId = (params) => {\n  let isAutoApp = Tool.webApp.checkMainApp();\n  let userId = '';\n  if (isAutoApp) {\n    userId = Tool.getCookie('app_userid');\n  }\n  return {\n    userId: userId || 0\n  };\n};\n"],"sourceRoot":""}