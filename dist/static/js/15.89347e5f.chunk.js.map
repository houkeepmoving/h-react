{"version":3,"sources":["components/base/com-nocontent/com-nocontent.scss","components/base/com-nocontent/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","tool/common.js"],"names":["module","exports","ComNoContent","inject","observer","props","handleReload","window","location","reload","state","content","this","comContentState","className","classNames","styles","common_nodata_f","nocontent_icon","icon_error","network_error","reload_btn","onClick","Component","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","isWz","Tool","checkViolatApp","dprnVersion","replace","isAutoApp","checkMainApp","pageJumpHandel","path","queryParams","browser","currentHost","protocol","host","pathname","query","keys","forEach","index","linkUrl","includes","OPEN_LINK_URL","encodeURIComponent","checkCarcommentApp","href","setTimeout","trackCustomPageInit","cate","customVars","pvTrack","site","site_id","category","category_id","subcategory","sub_category_id","pageVars","_yc_ahas","push","trackCustomEvent","pageId","refpage","channel","cityId","handleLogin","params","console","log","backUrl","successCb","failCb","appCallBack","appParams","code","require","jsBridge","openLogin","success","result","returncode","toString","JSON","stringify","fail","showVideoPlayer","bodyCls","scrollTop","that","jsBridgeV2","openNativePageAsyncResult","url","videos","videoId","requestCode","requestcode","Toast","$toast","paramStr","showGallery","originImages","autoAppOriginImages","i","len","length","tmpObj","bigimg","openMap","dealerParams","latitude","longitude","address","refpageName","lgData","mapUrl","parseInt","parse","issupportmap","RN_MAP_VIEW_URL","name","destLng","destLat","destAddres","choseCar","param","selectAutoHomeCar","json","extras","type","addCar","checkAutoHomeApp","res","data","ios","err","getRemarkHostUrl","slice"],"mappings":"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","file":"static/js/15.89347e5f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"common_nodata_f\":\"common_nodata_f__dd15f7ca\",\"position\":\"position__bb9324e9\",\"reload_btn\":\"reload_btn__4fe0a1f3\",\"nocontent_icon\":\"nocontent_icon__0d9a2edd\",\"icon_error\":\"icon_error__9bd3354c\",\"network_error\":\"network_error__64662d2b\"};","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\n\n// import PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './com-nocontent.scss';\n// import * as Tool from 'tool';\nimport * as Common from 'tool/common';\n\n@inject('ComNoContent')\n@observer\nexport default class ComNoContent extends Component {\n  static propTypes = {\n  }\n  constructor (props) {\n    super(props);\n    this.state = {\n    };\n  }\n  componentDidMount() {\n  }\n\n  handleReload = () => {\n    window.location.reload();\n  }\n\n  render() {\n    const { content } = this.props.ComNoContent.comContentState;\n    return (\n      content && (\n        <section className={classNames('common_nodata_f', styles.common_nodata_f)}>\n          <div className={ classNames(styles.nocontent_icon, {[styles.icon_error]: content === '页面溜走了，请稍候重试'}, {[styles.network_error]: content === '当前网络不给力'}) }></div>\n          <p>{content}</p>\n          {\n            (content === '页面溜走了，请稍候重试' || content === '当前网络不给力') && <div>\n            <div className={ styles.reload_btn } onClick={this.handleReload}>\n              点击刷新\n            </div>\n          </div>\n          }\n        </section>\n      )\n    );\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import * as Tool from 'tool';\n\nlet isWz = Tool.webApp.checkViolatApp() || Tool.getCookie('iswz');\nlet dprnVersion = (Tool.getCookie('dprnversion') || '').replace(/\\./g, '');\nlet isAutoApp = Tool.webApp.checkMainApp();\n\n// 页面跳转\nexport const pageJumpHandel = (path = '', queryParams = {}, browser = 'wk') => { // path:页面路由地址 queryParams：跳转传递query参数\n  let currentHost = `${window.location.protocol}//${window.location.host}${window.location.pathname}#/`; // 当前域名\n  let query = '';\n  Object.keys(queryParams).forEach((key, index) => {\n    query += `${index ? '&' : ''}${key}=${queryParams[key]}`;\n  });\n  let linkUrl = path.includes('http') ? path : `${currentHost}${path}?${query}`;\n  let OPEN_LINK_URL = encodeURIComponent(linkUrl);\n  if (Tool.webApp.checkMainApp()) { // 端内\n    if (Tool.webApp.checkCarcommentApp()) { // 汽车点评\n      Tool.openNativePage(`autohome://insidebrowser${browser}?url=${OPEN_LINK_URL}`);\n    } else { // 主软环境\n      window.location.href = `autohome://insidebrowser${browser}?url=${OPEN_LINK_URL}`;\n    }\n  } else if (isWz) { // 违章app\n    setTimeout(() => {\n      window.location.href = `wzsdk://wzarticle?url=${OPEN_LINK_URL}`;\n    }, 30);\n  } else { // M\n    window.location.href = linkUrl;\n  }\n  // window.location.href = linkUrl;\n\n};\n\n// pv show 统计\nexport const trackCustomPageInit = (cate = {}, customVars = {}) => {\n  // eslint-disable-next-line\n  pvTrack.site = cate.site_id;\n  // eslint-disable-next-line\n  pvTrack.category = cate.category_id;\n  // eslint-disable-next-line\n  pvTrack.subcategory = cate.sub_category_id;\n  // eslint-disable-next-line\n  pvTrack.pageVars = customVars;\n  // eslint-disable-next-line\n  window._yc_ahas.push(['_trackPageInit']);\n  // eslint-disable-next-line\n  trackCustomEvent('yc_dynamic_page_show', {\n    'bus': '1',\n    'page': cate.pageId ? cate.pageId : cate.site_id + '-' + cate.category_id + '-' + cate.sub_category_id,\n    'refpage': cate.refpage || '',\n    'channel': cate.channel || '0',\n    'city': cate.cityId || 110100\n  }, customVars);\n};\n\n// 操作登录信息\nexport const handleLogin = (params = {}) => {\n  console.log(window.location.href, '登录当前url');\n  let { backUrl, successCb = '', failCb = '' } = params;\n  if (Tool.webApp.checkViolatApp() || Tool.getCookie('iswz')) { // 违章\n    window.location.href = 'wzsdk://login';\n    window.appCallBack = (appParams) => {\n      if (appParams.code === 0) {\n        successCb && successCb(appParams);\n      }\n    };\n  } else if (Tool.webApp.checkMainApp()) { // 点评和主软\n    require('jsBridge');  // eslint-disable-next-line\n    window.jsBridge.openLogin({\n      success: (result) => {\n        if (result.returncode.toString() === '0') {\n          successCb && successCb(result);\n        }\n        console.log(JSON.stringify(result)); // eslint-disable-line\n      },\n      fail: (result) => {\n        failCb && failCb(result);\n        console.log(JSON.stringify(result)); // eslint-disable-line\n      }\n    });\n  } else { // M站\n    window.location.href = `http://account.m.autohome.com.cn/?backurl=${backUrl}`;\n  }\n};\n\nexport const wxProgramLogin = () => {\n   // 获取当前url\n  let locationUrl = encodeURIComponent(window.location.href);\n   // 小程序登录\n   wx.miniProgram.redirectTo({ url: `/pages/login/login?url=${locationUrl}` }); // eslint-disable-line\n};\n\n// 弹窗时候锁定页面\nexport const ModalHelper = (function(bodyCls) {\n  let scrollTop;\n  return {\n    afterOpen: function() {\n      scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      document.body.classList.add(bodyCls);\n      document.body.style.top = -scrollTop + 'px';\n      // 锁定\n      // document.documentElement.style.overflow = 'hidden';\n      // document.body.style.overflow = 'hidden';\n    },\n    beforeClose: function() {\n      document.body.classList.remove(bodyCls);\n      document.body.scrollTop = scrollTop;\n      document.documentElement.scrollTop = scrollTop;\n      document.documentElement.style.overflow = '';\n      document.body.style.overflow = '';\n    }\n  };\n})('modal-open');\n\n// 首页 list && 商家详情 跳转排行榜\nexport const linkToDealerRankList = (that, rankFlag) => {\n  // 判断code码是区域码还是城市码\n  let linkUrl = '';\n  let currentHost = `${window.location.protocol}//${window.location.host}`; // 当前域名\n  if (rankFlag.area % 100 === 0 && rankFlag.area % 1000 !== 0) { // cityCode后两位为0\n    linkUrl = `${currentHost}/remark/dealerranklist?brand=${rankFlag.brand}&areaId=&cityId=${rankFlag.area}&category=${rankFlag.category}&source=${rankFlag.source}`;\n  } else {\n    linkUrl = `${currentHost}/remark/dealerranklist?brand=${rankFlag.brand}&areaId=${rankFlag.area}&cityId=&category=${rankFlag.category}&source=${rankFlag.source}`;\n  }\n  if (that.isAutoApp) {\n    // 主软内\n    const OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      Tool.openNativePage(`autohome://insidebrowser?url=${OPEN_LINK_URL}`);\n    }, 10);\n  } else if (that.isWz) {\n    // 违章内\n    const OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      window.location.href = `wzsdk://wzarticle?url=${OPEN_LINK_URL}`;\n    }, 10);\n  } else {\n    // M站\n    if (rankFlag.area % 100 === 0 && rankFlag.area % 1000 !== 0) { // cityCode后两位为0 省份后三位为0\n      linkUrl = `/remark/dealerranklist?brand=${rankFlag.brand}&areaId=&cityId=${rankFlag.area}&category=${rankFlag.category}&source=${rankFlag.source}`;\n    } else {\n      linkUrl = `/remark/dealerranklist?brand=${rankFlag.brand}&areaId=${rankFlag.area}&cityId=&category=${rankFlag.category}&source=${rankFlag.source}`;\n    }\n    that.$router.push({ path: linkUrl });\n  }\n};\n\n// 视频播放\nexport const showVideoPlayer = (that, params) => {\n  if (Tool.webApp.checkMainApp()) { // 端内用app端的视频播放器\n    if (Tool.webApp.checkCarcommentApp()) { // 点评app\n      let dprnVersion = (Tool.getCookie('dprnversion') || '').replace(/\\./g, '');\n      if (dprnVersion >= 250) { // v2.5.0及以上版本支持播放器\n        require('jsBridge');\n        window.jsBridgeV2.openNativePageAsyncResult({\n          url: `dianpinginside://cfwsmallvideo?videoid=${params.videos[0].videoId}&activityid=&activitytype=&refpage=`,\n          requestCode: 1122,\n          success: (result) => {\n            console.log(JSON.stringify(result));\n            if (result.result.requestcode === 1122) {\n              // TODO\n            }\n          },\n          fail: (result) => {\n            console.log(JSON.stringify(result));\n          }\n        });\n      } else {\n        that.props.Toast.$toast('请升级最新客户端观看活动视频～');\n      }\n    } else { // 主软\n      const paramStr = `id=${params.videos[0].videoId}&topicid=&source=31&bsid=11&bsname=QiCheDianPing&loadmodel=4`;\n      require('jsBridge');\n      window.jsBridgeV2.openNativePageAsyncResult({\n        url: `autohome://article/shortvideolist?${paramStr}`,\n        requestCode: 1133,\n        success: (result) => {\n          console.log(JSON.stringify(result));\n          if (result.result.requestcode === 1133) {\n            // TODO\n          }\n        },\n        fail: (result) => {\n          console.log(JSON.stringify(result));\n        }\n      });\n    }\n  }\n};\n\nexport const videoBack = (that) => {\n  that.videoShow = false;\n  setTimeout(() => {\n    that.$refs.videoPlayComponent.pausedVideo();\n  }, 10);\n};\n\n// 查看大图\nexport const showGallery = (that, index, originImages) => {\n  if (Tool.webApp.checkMainApp()) {\n    let autoAppOriginImages = [];\n    for (let i = 0, len = originImages.length; i < len; i++) {\n      let tmpObj = {\n        'url': originImages[i],\n        'title': ''\n      };\n      autoAppOriginImages.push(tmpObj);\n    }\n    require('jsBridge');\n    window.jsBridgeV2.bigimg({\n      'currentindex': index + 1,\n      'image': autoAppOriginImages,\n      success(result) {\n        console.log(JSON.stringify(result));\n      },\n      fail(result) {\n        console.log(JSON.stringify(result));\n      }\n    });\n  }\n};\n// 商家详情 && 商品详情 跳转点评详情\nexport const handleCommentDetail = (that, data) => {\n  let query = that.$route.query;\n  let refpageName = query.refpageName;\n  let reviewId = data.id;\n  let queryParams = {\n    ...query,\n    refpageName: refpageName,\n    reviewId: reviewId\n  };\n\n  if (query.shareSource) {\n    queryParams.shareSource = query.shareSource;\n  }\n  if (query.typeSource) {\n    queryParams.typeSource = query.typeSource;\n  }\n  pageJumpHandel('/remark/commentdetail', queryParams);\n};\n\n// 商家跳转地图页\nexport const openMap = (dealerParams) => {\n  console.log('开始调用地图页');\n  let { latitude, longitude, address } = dealerParams;\n  let refpageName = Tool.getUrlParam('refpageName');\n\n  if (isWz) {\n    console.log('违章');\n    let lgData = Tool.getCookie('lg_data');\n    let mapUrl = `wzsdk://map?dlat=${latitude}&dlng=${longitude}&daddress=${address}&refpageName=${refpageName}`;\n    if (parseInt(Tool.getCookie('issupportmap')) === 1) {\n      // 违章app版本是否支持唤地图， 1 为支持， 非1为不支持\n      window.location.href = mapUrl;\n    }\n\n    if (lgData && parseInt(JSON.parse(lgData)).issupportmap === 1) {\n      // 临时解决 ios 5.0 版本\n      window.location.href = mapUrl;\n    }\n    // window.location.href = `wzsdk://map?dlat=${latitude}&dlng=${longitude}&daddress=${address}`;\n  } else if (isAutoApp) {\n    // 汽车点评RN环境\n    if (dprnVersion >= 200) {\n      console.log('点评');\n      // RN环境下支持地图导航\n      const RN_MAP_VIEW_URL = `rn://DianPing_Main/MapView?name=${encodeURIComponent(dealerParams.name)}&address=${encodeURIComponent(address)}&lat=${latitude}&lng=${longitude}`;\n\n      Tool.openNativePage(`autohome://rninsidebrowser?url=${encodeURIComponent(RN_MAP_VIEW_URL)}`);\n\n      return false;\n    }\n    console.log('主软');\n    // 主软原生环境\n    let linkUrl = `https://yczj.m.autohome.com.cn/topic/m/baidumap/index.html?destLng=${longitude}&destLat=${latitude}&refpageName=${refpageName}`;\n    let OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      Tool.openNativePage(`autohome://insidebrowser?url=${OPEN_LINK_URL}`);\n    }, 10);\n  } else {\n    console.log('m端');\n    // M\n    Tool.checkIsHasApp({\n      destLng: longitude,\n      destLat: latitude,\n      destAddres: address,\n      refpageName: refpageName\n    });\n  }\n};\n// 将img转成base64\nexport const img2base64 = (params = {}) => {\n  let { imgUrlArr = [], cut = true, canvasWith = 103, canvasHeight = 103, cb = '', failCb = '' } = params;\n  if (!imgUrlArr.length) {\n    return;\n  }\n  let imgUrlArrResult = [];\n  for (let i = 0; i < imgUrlArr.length; i++) {\n    (function(i) {\n      // eslint-disable-next-line\n      let xhr = new XMLHttpRequest();\n      console.log(xhr, 'xhr');\n      let xhrUrl = imgUrlArr[i];\n      if (xhrUrl.indexOf('http://') !== -1) {\n        // 截取\n        xhrUrl = xhrUrl.replace('http://', '//');\n      }\n      xhr.open('get', xhrUrl, true);\n      xhr.responseType = 'blob';\n      xhr.onload = function () {\n        // eslint-disable-next-line\n        let img = new Image();\n        let canvas = document.createElement('canvas');\n        let ctx = canvas.getContext('2d');\n        let ratio = getPixelRatio(ctx);\n        // 注意此处有个坑， canvas 要进行缩放\n        canvas.style.width = canvasWith + 'px';\n        canvas.style.height = canvasHeight + 'px';\n        canvas.width = canvasWith * ratio;\n        canvas.height = canvasHeight * ratio;\n        if (xhr.status === 200 || xhr.status === 0) {\n          // 这里面可以直接通过URL的api将其转换，然后赋值给img.src\n          // eslint-disable-next-line\n          let imgurl = URL.createObjectURL(xhr.response);\n          img.src = imgurl;\n          // 图片加载成功\n          img.onload = () => {\n            if (cut) {\n              // 需要裁剪\n              let imgRect = coverImg(canvasWith, canvasHeight, img.width, img.height);\n              ctx.drawImage(img, imgRect.sx, imgRect.sy, imgRect.sWidth, imgRect.sHeight, 0, 0, canvasWith, canvasHeight);\n            } else {\n              // 原图输出\n              canvas.width = img.width * ratio;\n              canvas.height = img.height * ratio;\n              ctx.drawImage(img, 0, 0);\n            }\n            imgUrlArrResult.push(canvas.toDataURL('image/png', 1));\n            // eslint-disable-next-line\n            URL.revokeObjectURL(imgurl);\n            canvas = null;\n            img = null;\n            cb && cb(imgUrlArrResult);\n          };\n          // 图片加载失败\n          img.onerror = () => {\n            console.log('error358: 图片加载失败');\n            failCb && failCb(imgUrlArr[i]);\n          };\n        } else if (xhr.status === 404) {\n          failCb && failCb(imgUrlArr[i]);\n        }\n      };\n      xhr.send();\n    })(i);\n  }\n};\n\nexport const getPixelRatio = (context) => {\n  let backingStore = context.backingStorePixelRatio ||\n  context.webkitBackingStorePixelRatio ||\n  context.mozBackingStorePixelRatio ||\n  context.msBackingStorePixelRatio ||\n  context.oBackingStorePixelRatio ||\n  context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore;\n};\n\nexport const coverImg = (boxW, boxH, sourceW, sourceH) => {\n  let sx = 0;\n  let sy = 0;\n  let sWidth = sourceW;\n  let sHeight = sourceH;\n  if (sourceW > sourceH || (sourceW === sourceH && boxW < boxH)) {\n    sWidth = boxW * sHeight / boxH;\n    sx = (sourceW - sWidth) / 2;\n  } else if (sourceW < sourceH || (sourceW === sourceH && boxW > boxH)) {\n    sHeight = boxH * sWidth / boxW;\n    sy = (sourceH - sHeight) / 2;\n  }\n  return {\n    sx,\n    sy,\n    sWidth,\n    sHeight\n  };\n};\nexport const containImg = (sx, sy, boxW, boxH, sourceW, sourceH) => {\n  let dx = sx;\n  let dy = sy;\n  let dWidth = boxW;\n  let dHeight = boxH;\n  if (sourceW > sourceH || (sourceW === sourceH && boxW < boxH)) {\n    dHeight = sourceH * dWidth / sourceW;\n    dy = sy + (boxH - dHeight) / 2;\n  } else if (sourceW < sourceH || (sourceW === sourceH && boxW > boxH)) {\n    dWidth = sourceW * dHeight / sourceH;\n    dx = sx + (boxW - dWidth) / 2;\n  }\n  return {\n    dx,\n    dy,\n    dWidth,\n    dHeight\n  };\n};\n\n// 选择车型车系：主软 点评 违章\nexport const choseCar = (param) => {\n  if (Tool.webApp.checkMainApp()) { // 主软和点评\n    // 主软选车\n    // eslint-disable-next-line\n    require('jsBridge');\n    window.jsBridge.selectAutoHomeCar({\n      success: (result) => {\n        // 调用回调吧\n        typeof param.success === 'function' && param.success(result);\n      },\n      fail: (result) => {\n        typeof param.fail === 'function' && param.fail(result);\n      }\n    });\n  } else if (Tool.webApp.checkViolatApp()) {\n    // 违章\n    // choosemodels：选择类型「车系1，车型2」\n    window.location.href = 'wzsdk://cars?choosemodels=2&carsource=newcar';\n\n    window.appCallBack = (json) => {\n      if (json.code === 0) {\n        if (json.extras.type === 14) {\n          typeof param.success === 'function' && param.success(json.extras);\n        } else {\n          typeof param.fail === 'function' && param.fail(json.extras);\n        }\n      }\n    };\n  }\n};\n\n// 添加爱车\nexport const addCar = (params = {}) => {\n  let url = '';\n  let { success = '', fail = '' } = params;\n  if (Tool.webApp.checkAutoHomeApp()) {\n    let linkUrl = encodeURIComponent('rn://CarService_GarageRN/AddOrUpdateCar?fromsource=14&ishideocr=1');\n    url = `autohome://rninsidebrowser?url=${linkUrl}`;\n  } else if (Tool.webApp.checkCarcommentApp()) {\n    url = 'dianpinginside://wzaddcar';\n  } else if (Tool.webApp.checkViolatApp()) {\n    // TODO: 违章渠道没有添加呢\n  }\n\n  require('jsBridge');\n  window.jsBridgeV2.openNativePageAsyncResult({\n    url: url,\n    requestCode: 10000,\n    success: (res) => {\n      console.log('添加爱车成功', JSON.stringify(res));\n      let data = null;\n      if (Tool.checkMobileVersions().ios) { // 苹果\n        data = JSON.parse(res.result);\n      } else {\n        data = res.result.data;\n      }\n      success && success(data);\n    },\n    fail: (err) => {\n      console.log('添加爱车失败', JSON.stringify(err));\n      fail && fail(err);\n    }\n  });\n};\n\n\n/**\n * 获取汽车点评域名\n */\nexport const getRemarkHostUrl = () => {\n  const currentHost = window.location.host;\n  console.log(currentHost);\n  // http://yczj.transparent.yz.test.autohome.com.cn/#/dealerList?type=1  \n  let _URL = '';\n  if (currentHost.slice(20, 24) === 'test') {\n    // 准生产环境\n    _URL = 'http://test.yczj.m.autohome.com.cn';\n  } else if (currentHost.slice(0, 6) === 't.yczj') {\n    // 本地环境\n    // _URL = 'http://test.yczj.m.autohome.com.cn';\n    _URL = 'http://t.yczj.m.autohome.com.cn:3001';\n  } else {\n    // 正式环境\n    _URL = 'https://yczj.m.autohome.com.cn';\n  }\n  return _URL;\n};\n"],"sourceRoot":""}