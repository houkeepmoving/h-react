{"version":3,"sources":["pages/service-reserve/service-reserve.scss","pages/service-reserve/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","tool/common.js","tool/getUserId.js","components/business/calendar/index.js","components/business/calendar/calendar.scss"],"names":["module","exports","ServiceReserve","inject","observer","props","getPackageDetail","param","comboId","Tool","dealerId","specId","Api","getRepairOrPackageDetail","then","res","returncode","Promise","reject","setState","reservationInfo","result","reservationPhone","mobile","catch","err","ComNoContent","$comConntent","message","handleReservation","handleTrackCustomEvent","Toast","$toast","itemIds","state","type","selectDate","selectTimeBucket","reservationName","test","itemList","list","length","map","item","itemId","id","itemName","name","itemPrice","price","plateNumber","decodeURIComponent","String","appointTime","appointTypes","buyCarTime","contactInfo","expectServiceItemList","maintainDate","maintainMode","maintainTimeSlotEnd","parseInt","endTime","replace","maintainTimeSlotStart","startTime","orderFrom","playerName","seriesId","travelDistance","pvAreaId","addOrder","Common","orderId","handleOpenMap","latitude","longitude","address","handleNameChange","event","value","target","handlePhoneChange","handleTimeBucket","bucket","handleShowCalendar","isShowCalendar","handleHideCalendar","handleConfirmDate","date","isDisabled","userId","getUserIdInfo","this","Header","$setTitle","e","ios","scrollHeight","document","body","documentElement","setTimeout","window","scrollTo","action","objectId","trackCustomEvent","className","styles","service_reserve","service_item","title","price_item","nums","infos_item","cell","cell_hd","classNames","cell_bd","dealer_name","dealer_address","onClick","icon_location2","date_item","icon_arrow_r","times_cell","timeList","time","index","key","active","bind","input_item","maxLength","onChange","onBlur","blurHandel","placeholder","submit_btn","disabled","show","startDate","endDate","hideCalendar","confirmDate","Component","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","isWz","checkViolatApp","dprnVersion","isAutoApp","checkMainApp","pageJumpHandel","path","queryParams","browser","currentHost","location","protocol","host","pathname","query","keys","forEach","linkUrl","includes","OPEN_LINK_URL","encodeURIComponent","checkCarcommentApp","href","trackCustomPageInit","cate","customVars","pvTrack","site","site_id","category","category_id","subcategory","sub_category_id","pageVars","_yc_ahas","push","pageId","refpage","channel","cityId","handleLogin","params","console","log","backUrl","successCb","failCb","appCallBack","appParams","code","require","jsBridge","openLogin","success","toString","JSON","stringify","fail","showVideoPlayer","bodyCls","scrollTop","that","jsBridgeV2","openNativePageAsyncResult","url","videos","videoId","requestCode","requestcode","paramStr","showGallery","originImages","autoAppOriginImages","i","len","tmpObj","bigimg","openMap","dealerParams","refpageName","lgData","mapUrl","parse","issupportmap","RN_MAP_VIEW_URL","destLng","destLat","destAddres","choseCar","selectAutoHomeCar","json","extras","addCar","checkAutoHomeApp","data","getRemarkHostUrl","slice","getUserId","Calendar","initCalendarRange","calendarSource","parseDate","generateKeys","daycount","getDayCount","getFullYear","getMonth","firstWeekDay","getDay","crItem","calendarRangeItem","j","item1","calendarItem","items","z","itemDay","Date","dateStr","formateDate","item2","getDateStr","AddDayCount","dd","setDate","getDate","year","month","timeArray","split","startMonthDate","endMonthDate","setMonth","y","m","d","handleHide","choseDateStr","disable","formateKey","formateday","weekdays","calendar","transparent_mask","calendar_main","header","contents","picker_inner","months","days","dateIndex","unable","confirmate_btn_box","confirmate_btn"],"mappings":"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","file":"static/js/12.ad012f50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fn-left\":\"fn-left__15cf7ca8\",\"fn-right\":\"fn-right__a65277f7\",\"wrap\":\"wrap__ee7a8561\",\"fn-block\":\"fn-block__593f6f73\",\"fn-hide\":\"fn-hide__3cce89a6\",\"fl\":\"fl__d5335325\",\"fr\":\"fr__860267c4\",\"bg\":\"bg__abafc4ce\",\"infos_item\":\"infos_item__32a6d633\",\"icon_arrow_r\":\"icon_arrow_r__dd0385e2\",\"icon_location2\":\"icon_location2__23e664bf\",\"service_item\":\"service_item__28bd64c7\",\"name\":\"name__0e45f559\",\"price_item\":\"price_item__fd5ecb5d\",\"nums\":\"nums__0850a6f2\",\"cell\":\"cell__c435d193\",\"times_cell\":\"times_cell__63e6db9e\",\"cell_hd\":\"cell_hd__3c8a08be\",\"cell_bd\":\"cell_bd__b4b2cd3a\",\"dealer_name\":\"dealer_name__9db5a06d\",\"dealer_address\":\"dealer_address__e62bc0b2\",\"time\":\"time__c7ea3a5c\",\"active\":\"active__31e8e7cd\",\"submit_btn\":\"submit_btn__eceb4215\",\"disabled\":\"disabled__21e310c3\"};","import React, { Component } from 'react';\n\nimport Api from 'api';\nimport classNames from 'classnames';\nimport * as Tool from 'tool';\nimport * as getUserIdInfo from 'tool/getUserId';\nimport { inject, observer } from 'mobx-react';\n\nimport styles from \"./service-reserve.scss\";\nimport * as Common from \"../../tool/common\";\n\nimport Calendar from 'components/business/calendar';\n\n@inject('Toast', 'ComNoContent', 'Header')\n@observer\nexport default class ServiceReserve extends Component {\n  constructor (props){\n    super(props);\n    this.state = {\n      // 是否显示日历组件\n      isShowCalendar: false,\n      // 选择的预约日期\n      selectDate: '',\n      // 预约详情信息\n      reservationInfo: null,\n      // 选择的时间段\n      selectTimeBucket: null,\n      // 联系人\n      reservationName: '',\n      // 联系电话\n      reservationPhone: '',\n    };\n  }\n\n  componentDidMount() {\n    // 埋点\n    let { userId } = getUserIdInfo.getUserId();\n    Common.trackCustomPageInit({\n      'pageId': 'tmfy_by_book_detail_pv',\n      'site_id': 1211120,\n      'category_id': 1595,\n      'sub_category_id': 18472\n    }, {\n      'userId': userId\n    });\n\n    this.props.Header.$setTitle('保养服务套餐预约');\n    Tool.setTitle('保养服务套餐预约');\n\n    // 获取预约详情\n    this.getPackageDetail();\n  }\n\n  // 获取维修预约详情信息\n  getPackageDetail = () => {\n    let param = {\n      comboId: Tool.getUrlParam('comboId') || '',\n      dealerId: Tool.getUrlParam('dealerId') || '',\n      specId:  Tool.getUrlParam('specId') || ''\n    };\n    Api.getRepairOrPackageDetail(param).then((res) => {\n      if (res.returncode === 0) {\n        this.setState({\n          reservationInfo: res.result,\n          reservationPhone: res.result.mobile\n        });\n      } else {\n        return Promise.reject(res);\n      }\n    }).catch((err) => {\n      this.props.ComNoContent.$comConntent(err.message || '页面溜走了，请稍候重试');\n    });\n  }\n\n  // 立即免费预约\n  handleReservation = () => {\n    // 埋点\n    this.handleTrackCustomEvent('tmfy_by_book_detail_confirm_click', Tool.getUrlParam('dealerId') || '');\n\n    if (!Tool.getUrlParam('comboId')) {\n      this.props.Toast.$toast('套餐id不能为空');\n      return false;\n    }\n\n    let itemIds = Tool.getUrlParam('itemIds ');\n    if (this.state.type === 1 && !itemIds) {\n      this.props.Toast.$toast('请先选择保养项目');\n      return false;\n    }\n\n    if (!this.state.selectDate) {\n      this.props.Toast.$toast('请选择到店时间');\n      return false;\n    }\n\n    if (!this.state.selectTimeBucket) {\n      this.props.Toast.$toast('请选择服务时间段');\n      return false;\n    }\n\n    if (!this.state.reservationName) {\n      this.props.Toast.$toast('请填写联系人');\n      return false;\n    }\n\n    if (!this.state.reservationPhone) {\n      this.props.Toast.$toast('请填写手机号码');\n      return false;\n    }\n\n    if (!(/^1[3456789]\\d{9}$/.test(this.state.reservationPhone))) {\n      this.props.Toast.$toast('请填写正确的手机号码');\n      return;\n    }\n\n    // 格式化保养项目\n    let itemList = [];\n    if (this.state.reservationInfo.list && this.state.reservationInfo.list.length > 0 ) {\n      itemList = this.state.reservationInfo.list.map((item) => {\n        return {\n          itemId: item.id,\n          itemName: item.name,\n          itemPrice: item.price || ''\n        };\n      });\n    }\n    let plateNumber = decodeURIComponent(decodeURIComponent(Tool.getUrlParamQuery().plateNumber));\n    plateNumber = plateNumber && String(plateNumber) !== 'null' && String(plateNumber) !== 'undefined' && plateNumber.length <= 10 ? plateNumber : '';\n    let param = {\n      appointTime: '',\n      appointTypes: [1], // 订单类型：1保养 2维修\n      buyCarTime: '',\n      comboId: Tool.getUrlParam('comboId') || 0, // 套餐id 不能为空 没有传0\n      contactInfo: this.state.reservationPhone,\n      dealerId: Tool.getUrlParam('oldDealerId'), // 经销商id\n      expectServiceItemList: itemList, // 保养项目\n      maintainDate: this.state.selectDate,\n      maintainMode: 1, // 保养模式：1到店保养 2上门取送\n      maintainTimeSlotEnd: parseInt(this.state.selectTimeBucket.endTime.replace(/:/, '')),\n      maintainTimeSlotStart: parseInt(this.state.selectTimeBucket.startTime.replace(/:/, '')),\n      orderFrom: 2, // 下单平台类型,0(未知),1(m站),2(app端),3(小程序端),4(pc),5(百度小程序)\n      plateNumber: plateNumber || '', // 车牌号\n      playerName: this.state.reservationName,\n      seriesId: parseInt(Tool.getUrlParam('seriesId')),\n      specId: parseInt(Tool.getUrlParam('specId')),\n      travelDistance: parseInt(Tool.getUrlParam('travelDistance')) || 0, // 如果没有里程值就传空\n      pvAreaId: Tool.getCookie('transparent_pvareaid') !== 'undefined' ? Tool.getCookie('transparent_pvareaid') : ''\n    };\n    Api.addOrder(param).then((res) => {\n      if (res.returncode === 0) {\n        Common.pageJumpHandel('reservationSuccess', { type: 1, orderId: res.result.orderId });\n      } else {\n        return Promise.reject(res);\n      }\n    }).catch((err) => {\n      this.props.Toast.$toast(err.message || '页面溜走了，请稍候重试');\n    });\n  }\n\n  // 打开地图\n  handleOpenMap = () => {\n    // 埋点\n    this.handleTrackCustomEvent('tmfy_by_book_detail_dealer_address_click', Tool.getUrlParam('dealerId'));\n\n    Common.openMap({\n      latitude: this.state.reservationInfo.latitude,\n      longitude: this.state.reservationInfo.longitude,\n      address: this.state.reservationInfo.address,\n      name: this.state.reservationInfo.name\n    });\n  }\n\n  // 修改联系人名称\n  handleNameChange = (event) => {\n    // eslint-disable-next-line\n    let regStr = /[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF][\\u200D|\\uFE0F]|[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF]|[0-9|*|#]\\uFE0F\\u20E3|[0-9|#]\\u20E3|[\\u203C-\\u3299]\\uFE0F\\u200D|[\\u203C-\\u3299]\\uFE0F|[\\u2122-\\u2B55]|\\u303D|[\\A9|\\AE]\\u3030|\\uA9|\\uAE|\\u3030/ig;\n    let value = event.target.value.replace(regStr, '').replace(/(^\\s*)|(\\s*$)/g, '');\n    this.setState({\n      reservationName: value\n    });\n  }\n\n  // 修改联系电话\n  handlePhoneChange = (event) => {\n    let value = event.target.value;\n    this.setState({\n      reservationPhone: value.replace(/[^0-9]/ig, '')\n    });\n  }\n\n  // 时间段切换处理\n  handleTimeBucket = (bucket) => {\n    // 埋点\n    this.handleTrackCustomEvent('tmfy_by_book_detail_time_click', bucket);\n\n    this.setState({\n      selectTimeBucket: bucket\n    });\n  }\n\n// 显示日历\n  handleShowCalendar = () => {\n    this.setState({\n      isShowCalendar: true\n    });\n  }\n\n  // 隐藏日历\n  handleHideCalendar = () => {\n    this.setState({\n      isShowCalendar: false\n    });\n  }\n\n  // 日历组件确认日期\n  handleConfirmDate = (date) => {\n    this.handleTrackCustomEvent('tmfy_by_book_detail_date_click', date);\n    this.setState({\n      selectDate: date,\n      isShowCalendar: false\n    });\n  }\n\n   isDisabled = () => {\n    const { selectDate, selectTimeBucket, reservationName, reservationPhone } = this.state;\n    return !(selectDate && selectTimeBucket && reservationName && reservationPhone);\n   }\n\n  // input失去焦点handel\n  blurHandel(e) {\n    if (Tool.checkMobileVersions().ios) {\n      let scrollHeight = document.body.scrollHeight || document.documentElement.scrollHeight;\n      setTimeout(() => {\n        window.scrollTo(0, scrollHeight - 1);\n      }, 100);\n    }\n  }\n\n  // 埋点事件\n  handleTrackCustomEvent(action, objectId = '') {\n    let { userId } = getUserIdInfo.getUserId();\n    // eslint-disable-next-line\n    trackCustomEvent('yc_page_common_click', {\n      'bus': '1',\n      'refpage': Tool.getCookie('refpage'),\n      'channel': Tool.getCookie('channel'),\n      'city': Tool.getCookie('cityId') || 110100,\n      'action': action\n    }, {\n      'userId': userId,\n      'objectId': objectId\n    });\n  }\n\n  render() {\n    const { isShowCalendar, reservationInfo, selectDate, selectTimeBucket, reservationName, reservationPhone } = this.state;\n    const isDisabled = this.isDisabled();\n    return (\n        reservationInfo && <div className={styles.service_reserve}>\n        <div className={styles.service_item}>\n          <p className={styles.name}>\n            { reservationInfo.title }\n          </p>\n          {\n            'price' in reservationInfo &&  <div className={styles.price_item}>\n              促销价\n              <span className={styles.nums}>￥{ reservationInfo.price }</span>\n            </div>\n          }\n        </div>\n\n        <div className={styles.infos_item}>\n          <div className={styles.cell}>\n            <div className={styles.cell_hd}>服务门店</div>\n            <div className={classNames(styles.cell_bd, styles.dealer_name)}>{ reservationInfo.name }</div>\n          </div>\n          {\n            reservationInfo.address && <div className={styles.cell}>\n              <div className={styles.cell_hd}>详细位置</div>\n              <div className={classNames(styles.cell_bd, styles.dealer_address)} onClick={ this.handleOpenMap }>\n                <i className={styles.icon_location2}></i>\n                { reservationInfo.address }\n              </div>\n            </div>\n          }\n        </div>\n\n        <div className={classNames(styles.infos_item, styles.date_item)}>\n          <div className={styles.cell}>\n            <div className={styles.cell_hd}>服务日期</div>\n            <div className={styles.cell_bd} onClick={ this.handleShowCalendar }>\n              { selectDate || '请选择到店时间' }\n              <i className={styles.icon_arrow_r}></i>\n            </div>\n          </div>\n          <div className={styles.cell}>\n            <div className={styles.cell_hd}>服务时间段</div>\n          </div>\n          <div className={classNames(styles.cell, styles.times_cell)}>\n            <div className={styles.cell_hd}>\n              {\n                reservationInfo.timeList.map((time, index) => {\n                  return (\n                      <span  key={ index } className={classNames(selectTimeBucket === time ? styles.active : '', styles.time)} onClick={ this.handleTimeBucket.bind(this, time) }>\n                { time.startTime + '-' + time.endTime }\n              </span>\n                  );\n                })\n              }\n            </div>\n          </div>\n        </div>\n\n        <div className={classNames(styles.infos_item, styles.input_item)}>\n          <div className={styles.cell}>\n            <div className={styles.cell_hd}>联系人详情</div>\n          </div>\n          <div className={styles.cell}>\n            <div className={styles.cell_hd}>联系人</div>\n            <div className={styles.cell_bd}>\n              <input type='text' maxLength=\"30\" value={ reservationName } onChange={ this.handleNameChange } onBlur={ (e) => this.blurHandel(e) } placeholder='请填写'/>\n            </div>\n          </div>\n          <div className={styles.cell}>\n            <div className={styles.cell_hd}>手机号码</div>\n            <div className={styles.cell_bd}>\n              <input type='tel' maxLength=\"11\" value={ reservationPhone } onChange={ this.handlePhoneChange } onBlur={ (e) => this.blurHandel(e) } placeholder='请填写'/>\n            </div>\n          </div>\n        </div>\n\n        <div className={classNames(styles.submit_btn, isDisabled ? styles.disabled : '')} onClick={ this.handleReservation }>\n          确认预约\n        </div>\n        <Calendar show={ isShowCalendar } startDate={ reservationInfo.startDate } endDate={ reservationInfo.endDate } hideCalendar={ this.handleHideCalendar } confirmDate={ this.handleConfirmDate }/>\n      </div>\n    );\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import * as Tool from 'tool';\n\nlet isWz = Tool.webApp.checkViolatApp() || Tool.getCookie('iswz');\nlet dprnVersion = (Tool.getCookie('dprnversion') || '').replace(/\\./g, '');\nlet isAutoApp = Tool.webApp.checkMainApp();\n\n// 页面跳转\nexport const pageJumpHandel = (path = '', queryParams = {}, browser = 'wk') => { // path:页面路由地址 queryParams：跳转传递query参数\n  let currentHost = `${window.location.protocol}//${window.location.host}${window.location.pathname}#/`; // 当前域名\n  let query = '';\n  Object.keys(queryParams).forEach((key, index) => {\n    query += `${index ? '&' : ''}${key}=${queryParams[key]}`;\n  });\n  let linkUrl = path.includes('http') ? path : `${currentHost}${path}?${query}`;\n  let OPEN_LINK_URL = encodeURIComponent(linkUrl);\n  if (Tool.webApp.checkMainApp()) { // 端内\n    if (Tool.webApp.checkCarcommentApp()) { // 汽车点评\n      Tool.openNativePage(`autohome://insidebrowser${browser}?url=${OPEN_LINK_URL}`);\n    } else { // 主软环境\n      window.location.href = `autohome://insidebrowser${browser}?url=${OPEN_LINK_URL}`;\n    }\n  } else if (isWz) { // 违章app\n    setTimeout(() => {\n      window.location.href = `wzsdk://wzarticle?url=${OPEN_LINK_URL}`;\n    }, 30);\n  } else { // M\n    window.location.href = linkUrl;\n  }\n  // window.location.href = linkUrl;\n\n};\n\n// pv show 统计\nexport const trackCustomPageInit = (cate = {}, customVars = {}) => {\n  // eslint-disable-next-line\n  pvTrack.site = cate.site_id;\n  // eslint-disable-next-line\n  pvTrack.category = cate.category_id;\n  // eslint-disable-next-line\n  pvTrack.subcategory = cate.sub_category_id;\n  // eslint-disable-next-line\n  pvTrack.pageVars = customVars;\n  // eslint-disable-next-line\n  window._yc_ahas.push(['_trackPageInit']);\n  // eslint-disable-next-line\n  trackCustomEvent('yc_dynamic_page_show', {\n    'bus': '1',\n    'page': cate.pageId ? cate.pageId : cate.site_id + '-' + cate.category_id + '-' + cate.sub_category_id,\n    'refpage': cate.refpage || '',\n    'channel': cate.channel || '0',\n    'city': cate.cityId || 110100\n  }, customVars);\n};\n\n// 操作登录信息\nexport const handleLogin = (params = {}) => {\n  console.log(window.location.href, '登录当前url');\n  let { backUrl, successCb = '', failCb = '' } = params;\n  if (Tool.webApp.checkViolatApp() || Tool.getCookie('iswz')) { // 违章\n    window.location.href = 'wzsdk://login';\n    window.appCallBack = (appParams) => {\n      if (appParams.code === 0) {\n        successCb && successCb(appParams);\n      }\n    };\n  } else if (Tool.webApp.checkMainApp()) { // 点评和主软\n    require('jsBridge');  // eslint-disable-next-line\n    window.jsBridge.openLogin({\n      success: (result) => {\n        if (result.returncode.toString() === '0') {\n          successCb && successCb(result);\n        }\n        console.log(JSON.stringify(result)); // eslint-disable-line\n      },\n      fail: (result) => {\n        failCb && failCb(result);\n        console.log(JSON.stringify(result)); // eslint-disable-line\n      }\n    });\n  } else { // M站\n    window.location.href = `http://account.m.autohome.com.cn/?backurl=${backUrl}`;\n  }\n};\n\nexport const wxProgramLogin = () => {\n   // 获取当前url\n  let locationUrl = encodeURIComponent(window.location.href);\n   // 小程序登录\n   wx.miniProgram.redirectTo({ url: `/pages/login/login?url=${locationUrl}` }); // eslint-disable-line\n};\n\n// 弹窗时候锁定页面\nexport const ModalHelper = (function(bodyCls) {\n  let scrollTop;\n  return {\n    afterOpen: function() {\n      scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      document.body.classList.add(bodyCls);\n      document.body.style.top = -scrollTop + 'px';\n      // 锁定\n      // document.documentElement.style.overflow = 'hidden';\n      // document.body.style.overflow = 'hidden';\n    },\n    beforeClose: function() {\n      document.body.classList.remove(bodyCls);\n      document.body.scrollTop = scrollTop;\n      document.documentElement.scrollTop = scrollTop;\n      document.documentElement.style.overflow = '';\n      document.body.style.overflow = '';\n    }\n  };\n})('modal-open');\n\n// 首页 list && 商家详情 跳转排行榜\nexport const linkToDealerRankList = (that, rankFlag) => {\n  // 判断code码是区域码还是城市码\n  let linkUrl = '';\n  let currentHost = `${window.location.protocol}//${window.location.host}`; // 当前域名\n  if (rankFlag.area % 100 === 0 && rankFlag.area % 1000 !== 0) { // cityCode后两位为0\n    linkUrl = `${currentHost}/remark/dealerranklist?brand=${rankFlag.brand}&areaId=&cityId=${rankFlag.area}&category=${rankFlag.category}&source=${rankFlag.source}`;\n  } else {\n    linkUrl = `${currentHost}/remark/dealerranklist?brand=${rankFlag.brand}&areaId=${rankFlag.area}&cityId=&category=${rankFlag.category}&source=${rankFlag.source}`;\n  }\n  if (that.isAutoApp) {\n    // 主软内\n    const OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      Tool.openNativePage(`autohome://insidebrowser?url=${OPEN_LINK_URL}`);\n    }, 10);\n  } else if (that.isWz) {\n    // 违章内\n    const OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      window.location.href = `wzsdk://wzarticle?url=${OPEN_LINK_URL}`;\n    }, 10);\n  } else {\n    // M站\n    if (rankFlag.area % 100 === 0 && rankFlag.area % 1000 !== 0) { // cityCode后两位为0 省份后三位为0\n      linkUrl = `/remark/dealerranklist?brand=${rankFlag.brand}&areaId=&cityId=${rankFlag.area}&category=${rankFlag.category}&source=${rankFlag.source}`;\n    } else {\n      linkUrl = `/remark/dealerranklist?brand=${rankFlag.brand}&areaId=${rankFlag.area}&cityId=&category=${rankFlag.category}&source=${rankFlag.source}`;\n    }\n    that.$router.push({ path: linkUrl });\n  }\n};\n\n// 视频播放\nexport const showVideoPlayer = (that, params) => {\n  if (Tool.webApp.checkMainApp()) { // 端内用app端的视频播放器\n    if (Tool.webApp.checkCarcommentApp()) { // 点评app\n      let dprnVersion = (Tool.getCookie('dprnversion') || '').replace(/\\./g, '');\n      if (dprnVersion >= 250) { // v2.5.0及以上版本支持播放器\n        require('jsBridge');\n        window.jsBridgeV2.openNativePageAsyncResult({\n          url: `dianpinginside://cfwsmallvideo?videoid=${params.videos[0].videoId}&activityid=&activitytype=&refpage=`,\n          requestCode: 1122,\n          success: (result) => {\n            console.log(JSON.stringify(result));\n            if (result.result.requestcode === 1122) {\n              // TODO\n            }\n          },\n          fail: (result) => {\n            console.log(JSON.stringify(result));\n          }\n        });\n      } else {\n        that.props.Toast.$toast('请升级最新客户端观看活动视频～');\n      }\n    } else { // 主软\n      const paramStr = `id=${params.videos[0].videoId}&topicid=&source=31&bsid=11&bsname=QiCheDianPing&loadmodel=4`;\n      require('jsBridge');\n      window.jsBridgeV2.openNativePageAsyncResult({\n        url: `autohome://article/shortvideolist?${paramStr}`,\n        requestCode: 1133,\n        success: (result) => {\n          console.log(JSON.stringify(result));\n          if (result.result.requestcode === 1133) {\n            // TODO\n          }\n        },\n        fail: (result) => {\n          console.log(JSON.stringify(result));\n        }\n      });\n    }\n  }\n};\n\nexport const videoBack = (that) => {\n  that.videoShow = false;\n  setTimeout(() => {\n    that.$refs.videoPlayComponent.pausedVideo();\n  }, 10);\n};\n\n// 查看大图\nexport const showGallery = (that, index, originImages) => {\n  if (Tool.webApp.checkMainApp()) {\n    let autoAppOriginImages = [];\n    for (let i = 0, len = originImages.length; i < len; i++) {\n      let tmpObj = {\n        'url': originImages[i],\n        'title': ''\n      };\n      autoAppOriginImages.push(tmpObj);\n    }\n    require('jsBridge');\n    window.jsBridgeV2.bigimg({\n      'currentindex': index + 1,\n      'image': autoAppOriginImages,\n      success(result) {\n        console.log(JSON.stringify(result));\n      },\n      fail(result) {\n        console.log(JSON.stringify(result));\n      }\n    });\n  }\n};\n// 商家详情 && 商品详情 跳转点评详情\nexport const handleCommentDetail = (that, data) => {\n  let query = that.$route.query;\n  let refpageName = query.refpageName;\n  let reviewId = data.id;\n  let queryParams = {\n    ...query,\n    refpageName: refpageName,\n    reviewId: reviewId\n  };\n\n  if (query.shareSource) {\n    queryParams.shareSource = query.shareSource;\n  }\n  if (query.typeSource) {\n    queryParams.typeSource = query.typeSource;\n  }\n  pageJumpHandel('/remark/commentdetail', queryParams);\n};\n\n// 商家跳转地图页\nexport const openMap = (dealerParams) => {\n  console.log('开始调用地图页');\n  let { latitude, longitude, address } = dealerParams;\n  let refpageName = Tool.getUrlParam('refpageName');\n\n  if (isWz) {\n    console.log('违章');\n    let lgData = Tool.getCookie('lg_data');\n    let mapUrl = `wzsdk://map?dlat=${latitude}&dlng=${longitude}&daddress=${address}&refpageName=${refpageName}`;\n    if (parseInt(Tool.getCookie('issupportmap')) === 1) {\n      // 违章app版本是否支持唤地图， 1 为支持， 非1为不支持\n      window.location.href = mapUrl;\n    }\n\n    if (lgData && parseInt(JSON.parse(lgData)).issupportmap === 1) {\n      // 临时解决 ios 5.0 版本\n      window.location.href = mapUrl;\n    }\n    // window.location.href = `wzsdk://map?dlat=${latitude}&dlng=${longitude}&daddress=${address}`;\n  } else if (isAutoApp) {\n    // 汽车点评RN环境\n    if (dprnVersion >= 200) {\n      console.log('点评');\n      // RN环境下支持地图导航\n      const RN_MAP_VIEW_URL = `rn://DianPing_Main/MapView?name=${encodeURIComponent(dealerParams.name)}&address=${encodeURIComponent(address)}&lat=${latitude}&lng=${longitude}`;\n\n      Tool.openNativePage(`autohome://rninsidebrowser?url=${encodeURIComponent(RN_MAP_VIEW_URL)}`);\n\n      return false;\n    }\n    console.log('主软');\n    // 主软原生环境\n    let linkUrl = `https://yczj.m.autohome.com.cn/topic/m/baidumap/index.html?destLng=${longitude}&destLat=${latitude}&refpageName=${refpageName}`;\n    let OPEN_LINK_URL = encodeURIComponent(linkUrl);\n    setTimeout(() => {\n      Tool.openNativePage(`autohome://insidebrowser?url=${OPEN_LINK_URL}`);\n    }, 10);\n  } else {\n    console.log('m端');\n    // M\n    Tool.checkIsHasApp({\n      destLng: longitude,\n      destLat: latitude,\n      destAddres: address,\n      refpageName: refpageName\n    });\n  }\n};\n// 将img转成base64\nexport const img2base64 = (params = {}) => {\n  let { imgUrlArr = [], cut = true, canvasWith = 103, canvasHeight = 103, cb = '', failCb = '' } = params;\n  if (!imgUrlArr.length) {\n    return;\n  }\n  let imgUrlArrResult = [];\n  for (let i = 0; i < imgUrlArr.length; i++) {\n    (function(i) {\n      // eslint-disable-next-line\n      let xhr = new XMLHttpRequest();\n      console.log(xhr, 'xhr');\n      let xhrUrl = imgUrlArr[i];\n      if (xhrUrl.indexOf('http://') !== -1) {\n        // 截取\n        xhrUrl = xhrUrl.replace('http://', '//');\n      }\n      xhr.open('get', xhrUrl, true);\n      xhr.responseType = 'blob';\n      xhr.onload = function () {\n        // eslint-disable-next-line\n        let img = new Image();\n        let canvas = document.createElement('canvas');\n        let ctx = canvas.getContext('2d');\n        let ratio = getPixelRatio(ctx);\n        // 注意此处有个坑， canvas 要进行缩放\n        canvas.style.width = canvasWith + 'px';\n        canvas.style.height = canvasHeight + 'px';\n        canvas.width = canvasWith * ratio;\n        canvas.height = canvasHeight * ratio;\n        if (xhr.status === 200 || xhr.status === 0) {\n          // 这里面可以直接通过URL的api将其转换，然后赋值给img.src\n          // eslint-disable-next-line\n          let imgurl = URL.createObjectURL(xhr.response);\n          img.src = imgurl;\n          // 图片加载成功\n          img.onload = () => {\n            if (cut) {\n              // 需要裁剪\n              let imgRect = coverImg(canvasWith, canvasHeight, img.width, img.height);\n              ctx.drawImage(img, imgRect.sx, imgRect.sy, imgRect.sWidth, imgRect.sHeight, 0, 0, canvasWith, canvasHeight);\n            } else {\n              // 原图输出\n              canvas.width = img.width * ratio;\n              canvas.height = img.height * ratio;\n              ctx.drawImage(img, 0, 0);\n            }\n            imgUrlArrResult.push(canvas.toDataURL('image/png', 1));\n            // eslint-disable-next-line\n            URL.revokeObjectURL(imgurl);\n            canvas = null;\n            img = null;\n            cb && cb(imgUrlArrResult);\n          };\n          // 图片加载失败\n          img.onerror = () => {\n            console.log('error358: 图片加载失败');\n            failCb && failCb(imgUrlArr[i]);\n          };\n        } else if (xhr.status === 404) {\n          failCb && failCb(imgUrlArr[i]);\n        }\n      };\n      xhr.send();\n    })(i);\n  }\n};\n\nexport const getPixelRatio = (context) => {\n  let backingStore = context.backingStorePixelRatio ||\n  context.webkitBackingStorePixelRatio ||\n  context.mozBackingStorePixelRatio ||\n  context.msBackingStorePixelRatio ||\n  context.oBackingStorePixelRatio ||\n  context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore;\n};\n\nexport const coverImg = (boxW, boxH, sourceW, sourceH) => {\n  let sx = 0;\n  let sy = 0;\n  let sWidth = sourceW;\n  let sHeight = sourceH;\n  if (sourceW > sourceH || (sourceW === sourceH && boxW < boxH)) {\n    sWidth = boxW * sHeight / boxH;\n    sx = (sourceW - sWidth) / 2;\n  } else if (sourceW < sourceH || (sourceW === sourceH && boxW > boxH)) {\n    sHeight = boxH * sWidth / boxW;\n    sy = (sourceH - sHeight) / 2;\n  }\n  return {\n    sx,\n    sy,\n    sWidth,\n    sHeight\n  };\n};\nexport const containImg = (sx, sy, boxW, boxH, sourceW, sourceH) => {\n  let dx = sx;\n  let dy = sy;\n  let dWidth = boxW;\n  let dHeight = boxH;\n  if (sourceW > sourceH || (sourceW === sourceH && boxW < boxH)) {\n    dHeight = sourceH * dWidth / sourceW;\n    dy = sy + (boxH - dHeight) / 2;\n  } else if (sourceW < sourceH || (sourceW === sourceH && boxW > boxH)) {\n    dWidth = sourceW * dHeight / sourceH;\n    dx = sx + (boxW - dWidth) / 2;\n  }\n  return {\n    dx,\n    dy,\n    dWidth,\n    dHeight\n  };\n};\n\n// 选择车型车系：主软 点评 违章\nexport const choseCar = (param) => {\n  if (Tool.webApp.checkMainApp()) { // 主软和点评\n    // 主软选车\n    // eslint-disable-next-line\n    require('jsBridge');\n    window.jsBridge.selectAutoHomeCar({\n      success: (result) => {\n        // 调用回调吧\n        typeof param.success === 'function' && param.success(result);\n      },\n      fail: (result) => {\n        typeof param.fail === 'function' && param.fail(result);\n      }\n    });\n  } else if (Tool.webApp.checkViolatApp()) {\n    // 违章\n    // choosemodels：选择类型「车系1，车型2」\n    window.location.href = 'wzsdk://cars?choosemodels=2&carsource=newcar';\n\n    window.appCallBack = (json) => {\n      if (json.code === 0) {\n        if (json.extras.type === 14) {\n          typeof param.success === 'function' && param.success(json.extras);\n        } else {\n          typeof param.fail === 'function' && param.fail(json.extras);\n        }\n      }\n    };\n  }\n};\n\n// 添加爱车\nexport const addCar = (params = {}) => {\n  let url = '';\n  let { success = '', fail = '' } = params;\n  if (Tool.webApp.checkAutoHomeApp()) {\n    let linkUrl = encodeURIComponent('rn://CarService_GarageRN/AddOrUpdateCar?fromsource=14&ishideocr=1');\n    url = `autohome://rninsidebrowser?url=${linkUrl}`;\n  } else if (Tool.webApp.checkCarcommentApp()) {\n    url = 'dianpinginside://wzaddcar';\n  } else if (Tool.webApp.checkViolatApp()) {\n    // TODO: 违章渠道没有添加呢\n  }\n\n  require('jsBridge');\n  window.jsBridgeV2.openNativePageAsyncResult({\n    url: url,\n    requestCode: 10000,\n    success: (res) => {\n      console.log('添加爱车成功', JSON.stringify(res));\n      let data = null;\n      if (Tool.checkMobileVersions().ios) { // 苹果\n        data = JSON.parse(res.result);\n      } else {\n        data = res.result.data;\n      }\n      success && success(data);\n    },\n    fail: (err) => {\n      console.log('添加爱车失败', JSON.stringify(err));\n      fail && fail(err);\n    }\n  });\n};\n\n\n/**\n * 获取汽车点评域名\n */\nexport const getRemarkHostUrl = () => {\n  const currentHost = window.location.host;\n  console.log(currentHost);\n  // http://yczj.transparent.yz.test.autohome.com.cn/#/dealerList?type=1  \n  let _URL = '';\n  if (currentHost.slice(20, 24) === 'test') {\n    // 准生产环境\n    _URL = 'http://test.yczj.m.autohome.com.cn';\n  } else if (currentHost.slice(0, 6) === 't.yczj') {\n    // 本地环境\n    // _URL = 'http://test.yczj.m.autohome.com.cn';\n    _URL = 'http://t.yczj.m.autohome.com.cn:3001';\n  } else {\n    // 正式环境\n    _URL = 'https://yczj.m.autohome.com.cn';\n  }\n  return _URL;\n};\n","/**\n * @file 违章 & 主软 & M 登录\n * 获取userid\n */\nimport * as Tool from 'tool';\nexport const getUserId = (params) => {\n  let isAutoApp = Tool.webApp.checkMainApp();\n  let userId = '';\n  if (isAutoApp) {\n    userId = Tool.getCookie('app_userid');\n  }\n  return {\n    userId: userId || 0\n  };\n};\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\n\nimport classNames from 'classnames';\nimport styles from './calendar.scss';\n// import PropTypes from 'prop-types';\n// import * as Tool from 'tool';\n@observer\nexport default class Calendar extends Component {\n  static propTypes = {\n  }\n  constructor (props) {\n    super(props);\n    this.state = {\n      weekdays: ['日', '一', '二', '三', '四', '五', '六'],\n      startDate: this.props.startDate || this.getDateStr(1), // 明天\n      endDate: this.props.endDate || this.getDateStr(30), // 30天之后的日期\n      calendarSource: [],\n      choseDateStr: this.props.startDate || this.getDateStr(1),\n      // { key: '', items: [] }\n      calendarRangeItem: function (key, items) {\n        this.key = key;\n        this.items = items;\n      },\n      // { date: '', disable: '', dateStr: '' }\n      calendarItem: function (date, disable, dateStr) {\n        this.date = date;\n        this.disable = disable;\n        this.dateStr = dateStr;\n      }\n    };\n  }\n  componentDidMount() {\n    this.initCalendarRange();\n  }\n  // 组件销毁前移除事件监听\n  componentWillUnmount(){\n\n  }\n\n\n  // 初始化日历数据\n  initCalendarRange = () => {\n    let calendarSource = [];\n    let startTime = this.parseDate(this.state.startDate);\n    let endTime = this.parseDate(this.state.endDate);\n    let keys = this.generateKeys(startTime, endTime);\n    for (let i = 0; i < keys.length; i++) {\n      let date = keys[i];\n      let daycount = this.getDayCount(date.getFullYear(), date.getMonth());\n      let firstWeekDay = date.getDay();\n      // eslint-disable-next-line\n      let crItem = new this.state.calendarRangeItem(date, []);\n      for (let j = 0; j < firstWeekDay; j++) {\n        // eslint-disable-next-line\n        let item1 = new this.state.calendarItem('', '', true, '');\n        crItem.items.push(item1);\n      }\n      for (let z = 1; z <= daycount; z++) {\n        let itemDay = new Date(date.getFullYear(), date.getMonth(), z);\n        let disabled = false;\n        if (itemDay < startTime || itemDay > endTime) {\n          disabled = true;\n        }\n        let dateStr = this.formateDate(itemDay);\n        // eslint-disable-next-line\n        let item2 = new this.state.calendarItem(itemDay, disabled, dateStr);\n        crItem.items.push(item2);\n      }\n      calendarSource.push(crItem);\n    }\n    this.setState({\n      calendarSource: calendarSource\n    });\n  }\n\n  // 获取开始时间 结束时间\n  getDateStr = (AddDayCount) => {\n    let dd = new Date();\n    dd.setDate(dd.getDate() + AddDayCount); // 获取AddDayCount天后的日期\n    let y = dd.getFullYear();\n    let m = (dd.getMonth() + 1) < 10 ? '0' + (dd.getMonth() + 1) : (dd.getMonth() + 1); // 获取当前月份的日期，不足10补0\n    let d = dd.getDate() < 10 ? '0' + dd.getDate() : dd.getDate(); // 获取当前几号，不足10补0\n    return y + '-' + m + '-' + d;\n  }\n\n  // 获取当月总天数\n  getDayCount = (year, month) => {\n    let dict = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n    if (month === 1) {\n      if ((year % 400 === 0) || (year % 4 === 0 && year % 100 !== 0)) {\n        return 29;\n      }\n    }\n    return dict[month];\n  }\n\n  // 日期转化成标准时间\n  parseDate = (dateStr) => {\n    let timeArray = dateStr.split('-');\n    return new Date(timeArray[0], timeArray[1] - 1, timeArray[2]);\n  }\n\n  // 根据开始时间 结束时间 获取有多少个月\n  generateKeys = (startTime, endTime) => {\n    let keys = [];\n    let startMonthDate = new Date(startTime.getFullYear(), startTime.getMonth(), 1);\n    let endMonthDate = new Date(endTime.getFullYear(), endTime.getMonth(), 1);\n    // eslint-disable-next-line\n    while (startMonthDate < endMonthDate) {\n      let date = new Date(startMonthDate.getFullYear(), startMonthDate.getMonth(), 1);\n      keys.push(date);\n      startMonthDate.setMonth(startMonthDate.getMonth() + 1);\n    }\n    keys.push(endMonthDate);\n    return keys;\n  }\n\n  // 格式化日期 2018-02-01\n  formateDate = (dd) => {\n    let y = dd.getFullYear();\n    let m = dd.getMonth() + 1; // 获取当前月份的日期\n    let d = dd.getDate();\n    return y + '-' + (m > 9 ? m : '0' + m) + '-' + (d > 9 ? d : '0' + d);\n  }\n\n\n  // 隐藏日历控件\n  handleHide = () => {\n    setTimeout(() => {\n      this.props.hideCalendar();\n    }, 200);\n  }\n\n  // 确认日期\n  confirmDate = () => {\n    this.props.confirmDate(this.state.choseDateStr);\n  }\n\n  // 选择日期\n  selectDate = (date) => {\n    if (date.disable !== '' && !date.disable && date.dateStr !== this.state.choseDateStr) {\n      this.setState({\n        choseDateStr: date.dateStr\n      });\n    }\n  }\n\n\n  formateKey = (value) => {\n    if (value) {\n      let y = value.getFullYear();\n      let m = value.getMonth() + 1; // 获取当前月份的日期\n      return y + '年' + m + '月';\n    } else {\n      return null;\n    }\n  }\n\n  formateday = (value) => {\n    if (value) {\n      return value.getDate();\n    } else {\n      return null;\n    }\n  }\n\n\n  render() {\n    const { show } = this.props;\n    const { weekdays, calendarSource, choseDateStr } = this.state;\n    return (\n      show && calendarSource.length > 0 &&  (<div className={ styles.calendar }>\n        <div className={ styles.transparent_mask } onClick={ this.handleHide }></div>\n        <div className={ classNames(styles.calendar_main, show && calendarSource.length > 0 ? styles.show : '') }>\n          <div className={ styles.header }>\n            日期选择\n          </div>\n          <div className={ styles.weekdays }>\n            <ul>\n              {\n                weekdays.map((item) => {\n                  return (\n                    <li key={ item }>\n                      <span>{ item }</span>\n                    </li>\n                  );\n                })\n              }\n            </ul>\n          </div>\n          <div className={ styles.contents }>\n            {\n              calendarSource.map((item, index) => {\n                return (\n                  <div className={ styles.picker_inner } key={ index }>\n                    <div className={ styles.months }>{ this.formateKey(item.key) }</div>\n                    <div className={ styles.days }>\n                      <ul>\n                        {\n                          item.items.map((date, dateIndex) => {\n                            return (\n                              <li key={ dateIndex }>\n                                <span className={ classNames(date.disable ? styles.unable : '', date.dateStr === choseDateStr ? styles.active : '' ) } onClick={ this.selectDate.bind(this, date) }>{ this.formateday(date.date) }</span>\n                              </li>\n                            );\n                          })\n                        }\n                      </ul>\n                    </div>\n                  </div>\n                );\n              })\n            }\n          </div>\n        </div>\n        <div className={ styles.confirmate_btn_box }>\n          <div className={ styles.confirmate_btn } onClick={ this.confirmDate }>确认</div>\n        </div>\n      </div>)\n    );\n  }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transparent_mask\":\"transparent_mask__db068725\",\"calendar_main\":\"calendar_main__6191750c\",\"show\":\"show__a0c056aa\",\"header\":\"header__9d77cc2b\",\"weekdays\":\"weekdays__0bd19a75\",\"contents\":\"contents__34222268\",\"months\":\"months__5fccf01c\",\"days\":\"days__ef70e21b\",\"unable\":\"unable__d47e934c\",\"active\":\"active__52026623\",\"confirmate_btn_box\":\"confirmate_btn_box__63507e11\",\"confirmate_btn\":\"confirmate_btn__0acbc33a\"};"],"sourceRoot":""}